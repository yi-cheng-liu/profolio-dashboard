var ee=Object.create;var P=Object.defineProperty;var te=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var re=Object.getPrototypeOf,ne=Object.prototype.hasOwnProperty;var se=(e,t)=>{for(var o in t)P(e,o,{get:t[o],enumerable:!0})},E=(e,t,o,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of oe(t))!ne.call(e,n)&&n!==o&&P(e,n,{get:()=>t[n],enumerable:!(i=te(t,n))||i.enumerable});return e};var f=(e,t,o)=>(o=e!=null?ee(re(e)):{},E(t||!e||!e.__esModule?P(o,"default",{value:e,enumerable:!0}):o,e)),ie=e=>E(P({},"__esModule",{value:!0}),e);var ce={};se(ce,{CatchAllNavigate:()=>z,DocumentTitleHandler:()=>X,NavigateToResource:()=>G,RefineRoutes:()=>B,UnsavedChangesNotifier:()=>K,default:()=>I,stringifyConfig:()=>$,useDocumentTitle:()=>_});module.exports=ie(ce);var C=f(require("react")),x=require("@refinedev/core"),d=require("react"),v=f(require("qs")),a=require("react-router-dom");var w=e=>{if(typeof e>"u")return e;let t=Number(e);return`${t}`===e?t:e};var $={addQueryPrefix:!0,skipNulls:!0,arrayFormat:"indices",encode:!1,encodeValuesOnly:!0},I={go:()=>{let{search:e,hash:t}=(0,a.useLocation)(),o=(0,a.useNavigate)();return(0,d.useCallback)(({to:n,type:s,query:r,hash:c,options:{keepQuery:p,keepHash:l}={}})=>{let u={...p&&e&&v.default.parse(e,{ignoreQueryPrefix:!0}),...r};u.to&&(u.to=encodeURIComponent(`${u.to}`));let h=Object.keys(u).length>0,y=`#${(c||l&&t||"").replace(/^#/,"")}`,Z=y.length>1,A=`${n||""}${h?v.default.stringify(u,$):""}${Z?y:""}`;return s==="path"?A:o(A,{replace:s==="replace"})},[t,e,o])},back:()=>{let e=(0,a.useNavigate)();return(0,d.useCallback)(()=>{e(-1)},[e])},parse:()=>{var p;let e=(0,a.useParams)(),{pathname:t,search:o}=(0,a.useLocation)(),{resources:i}=(0,d.useContext)(x.ResourceContext),{resource:n,action:s,matchedRoute:r}=C.default.useMemo(()=>(0,x.matchResourceFromRoute)(t,i),[i,t]);return Object.entries(e).length===0&&r&&(e=((p=(0,a.matchPath)(r,t))==null?void 0:p.params)||{}),(0,d.useCallback)(()=>{let l=v.default.parse(o,{ignoreQueryPrefix:!0}),u={...e,...l};return{...n&&{resource:n},...s&&{action:s},...(e==null?void 0:e.id)&&{id:decodeURIComponent(e.id)},pathname:t,params:{...u,current:w(u.current),pageSize:w(u.pageSize),to:u.to?decodeURIComponent(u.to):void 0}}},[t,o,e,n,s])},Link:C.default.forwardRef(function(t,o){return C.default.createElement(a.Link,{...t,ref:o})})};var L=f(require("react")),D=require("@refinedev/core");var U=f(require("react")),S=require("react-router-dom"),ue=(e,t)=>{let{name:o,list:i,create:n,show:s,edit:r}=e;if(typeof i=="string"&&t==="list")return i;if(typeof i=="object"&&t==="list")return i.path;if(typeof n=="string"&&t==="create")return n;if(typeof n=="object"&&t==="create")return n.path;if(typeof s=="string"&&t==="show")return s;if(typeof s=="object"&&t==="show")return s.path;if(typeof r=="string"&&t==="edit")return r;if(typeof r=="object"&&t==="edit")return r.path;let c=`/${o}`,p=`${["edit","create","clone","show"].includes(t)?t:""}`,l=`${["edit","show","clone"].includes(t)?":id":""}`;return[c,p,l].filter(Boolean).join("/")},F=e=>e.flatMap(o=>{let i=[];return["list","show","edit","create"].forEach(n=>{let s=o[n];if(typeof s<"u"&&typeof s!="string"){let r=typeof s=="function"?s:s.component,c=ue(o,n);i.push({action:n,element:r,path:c}),n==="create"&&i.push({action:"clone",element:r,path:c})}}),i.map(({action:n,element:s,path:r})=>{let c=U.default.createElement(s,null);return U.default.createElement(S.Route,{key:`${n}-${r}`,path:r,element:c})})});var j=require("react-router-dom"),B=({children:e})=>{let{resources:t}=(0,D.useResource)(),o=L.default.useMemo(()=>F(t),[t]);return e?e(o):L.default.createElement(j.Routes,null,o)};var N=require("@refinedev/core"),H=f(require("react")),M=require("react-router-dom"),G=({resource:e,meta:t})=>{let o=(0,N.useGetToPath)(),{resource:i,resources:n}=(0,N.useResource)(e),s=i||n.find(r=>r.list);if(s){let r=o({resource:s,action:"list",meta:t});return r?H.default.createElement(M.Navigate,{to:r}):(console.warn("No resource is found to navigate to."),null)}return console.warn("No resource is found to navigate to."),null};var k=f(require("react")),b=require("@refinedev/core");var g=f(require("react")),Q=require("react-router-dom");function ae(e,t=!0){let{navigator:o}=g.default.useContext(Q.UNSAFE_NavigationContext);g.default.useEffect(()=>{if(!t)return;let i=o.go,n=o.push;return o.push=(...s)=>{e()!==!1&&n(...s)},o.go=(...s)=>{e()!==!1&&i(...s)},()=>{o.push=n,o.go=i}},[o,e,t])}function V(e,t=!0,o,i=!1){let n=g.default.useCallback(r=>(r.preventDefault(),r.returnValue=e,r.returnValue),[e]);g.default.useEffect(()=>(t&&!i&&window.addEventListener("beforeunload",n),()=>{window.removeEventListener("beforeunload",n)}),[n,t,i]);let s=g.default.useCallback(()=>{let r=window.confirm(e);return r&&o&&o(),r},[e]);ae(s,t)}var q=require("react-router-dom"),K=({translationKey:e="warnWhenUnsavedChanges",message:t="Are you sure you want to leave? You have unsaved changes."})=>{let o=(0,b.useTranslate)(),{pathname:i}=(0,q.useLocation)(),{warnWhen:n,setWarnWhen:s}=(0,b.useWarnAboutChange)();k.default.useEffect(()=>()=>s==null?void 0:s(!1),[i]);let r=k.default.useMemo(()=>o(e,t),[e,t,o]);return V(r,n,()=>{s==null||s(!1)}),null};var O=f(require("react")),T=require("react-router-dom"),z=({to:e})=>{let{pathname:t,search:o}=(0,T.useLocation)(),i=`${t}${o}`,n=i.length>1?`?to=${encodeURIComponent(i)}`:"";return O.default.createElement(T.Navigate,{to:`${e}${n}`})};var m=require("@refinedev/core"),R=f(require("react")),J=require("react-router-dom");function X({handler:e}){var h;let t=(0,J.useLocation)(),{action:o,id:i,params:n,pathname:s,resource:r}=(0,m.useParsed)(),c=(0,m.useTranslate)(),p=(0,m.useUserFriendlyName)(),l=(r==null?void 0:r.identifier)??(r==null?void 0:r.name),u=(r==null?void 0:r.label)??((h=r==null?void 0:r.meta)==null?void 0:h.label)??p(l,o==="list"?"plural":"singular");return(0,R.useLayoutEffect)(()=>{let y=(0,m.generateDefaultDocumentTitle)(c,r,o,`${i}`,u);e?document.title=e({action:o,resource:r,params:n,pathname:s,autoGeneratedTitle:y}):document.title=y},[t]),R.default.createElement(R.default.Fragment,null)}var W=require("@refinedev/core"),Y=require("react"),_=e=>{let t=(0,W.useTranslate)();return(0,Y.useEffect)(()=>{e&&(typeof e=="string"?document.title=t(e):document.title=t(e.i18nKey))},[e]),o=>{typeof o=="string"?document.title=t(o):document.title=t(o.i18nKey)}};
//# sourceMappingURL=index.cjs.map