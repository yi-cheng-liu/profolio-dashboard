{"version":3,"sources":["../src/legacy/index.ts","../src/legacy/routerComponent.tsx","../src/legacy/routeProvider.tsx","../src/use-prompt-workaround.ts","../src/legacy/prompt.tsx"],"sourcesContent":["import React from \"react\";\nimport { handleUseParams, type IRouterProvider } from \"@refinedev/core\";\nimport {\n  useLocation,\n  useParams,\n  Link,\n  type RouteProps,\n  type BrowserRouterProps,\n  useNavigate,\n} from \"react-router-dom\";\n\nimport {\n  BrowserRouterComponent,\n  MemoryRouterComponent,\n  HashRouterComponent,\n} from \"./routerComponent.js\";\nimport { Prompt } from \"./prompt.js\";\n\nexport type RefineRouteProps = RouteProps & {\n  layout?: boolean;\n};\ninterface IReactRouterProvider extends IRouterProvider {\n  useLocation: typeof useLocation;\n  Link: typeof Link;\n  useParams: <Params extends { [K in keyof Params]?: string } = {}>() => Params;\n  RouterComponent: React.FC<BrowserRouterProps>;\n  routes?: RefineRouteProps[];\n}\n\nconst RouterProvider: IReactRouterProvider = {\n  useHistory: () => {\n    const navigate = useNavigate();\n\n    return {\n      push: navigate,\n      replace: (path: string) => {\n        navigate(path, { replace: true });\n      },\n      goBack: () => {\n        navigate(-1);\n      },\n    };\n  },\n  useLocation,\n  useParams: () => {\n    const params = useParams();\n    const { pathname } = useLocation();\n\n    const paramsString = `/${Object.values(params).join(\"/\")}`;\n    return handleUseParams({\n      ...params,\n      resource:\n        Object.keys(params).length === 0\n          ? pathname.substring(1)\n          : decodeURIComponent(pathname.substring(1)).replace(paramsString, \"\"),\n    });\n  },\n  Prompt: Prompt as any,\n  Link,\n  RouterComponent: BrowserRouterComponent,\n};\n\n// External dependencies are no longer exported\n// export * from \"react-router-dom\";\n\nexport default RouterProvider;\nexport { MemoryRouterComponent, HashRouterComponent, BrowserRouterComponent };\n","import React from \"react\";\nimport {\n  BrowserRouter,\n  type BrowserRouterProps,\n  MemoryRouter,\n  type MemoryRouterProps,\n  HashRouter,\n  type HashRouterProps,\n} from \"react-router-dom\";\n\nimport { RouteProvider } from \"./routeProvider\";\n\nexport function BrowserRouterComponent(\n  this: { initialRoute?: string },\n  { children, ...props }: BrowserRouterProps,\n): JSX.Element {\n  return (\n    <BrowserRouter {...props}>\n      <RouteProvider\n        initialRoute={\n          typeof this !== \"undefined\" ? this.initialRoute : undefined\n        }\n      />\n      {children}\n    </BrowserRouter>\n  );\n}\n\nexport function MemoryRouterComponent(\n  this: { initialRoute?: string },\n  { children, ...props }: MemoryRouterProps,\n): JSX.Element {\n  return (\n    <MemoryRouter {...props}>\n      <RouteProvider\n        initialRoute={\n          typeof this !== \"undefined\" ? this.initialRoute : undefined\n        }\n      />\n      {children}\n    </MemoryRouter>\n  );\n}\n\nexport function HashRouterComponent(\n  this: { initialRoute?: string },\n  { children, ...props }: HashRouterProps,\n): JSX.Element {\n  return (\n    <HashRouter {...props}>\n      <RouteProvider\n        initialRoute={\n          typeof this !== \"undefined\" ? this.initialRoute : undefined\n        }\n      />\n      {children}\n    </HashRouter>\n  );\n}\n","import React, { useMemo } from \"react\";\nimport { Route, Routes, Navigate, Outlet } from \"react-router-dom\";\nimport {\n  LoginPage as DefaultLoginPage,\n  ErrorComponent,\n  LayoutWrapper,\n  useResource,\n  useRefineContext,\n  useRouterContext,\n  CanAccess,\n  type ResourceRouterParams,\n  useActiveAuthProvider,\n  useIsAuthenticated,\n} from \"@refinedev/core\";\nimport type { RefineRouteProps } from \"./index\";\n\nconst ResourceComponent: React.FC<{ route: string }> = ({ route }) => {\n  const { catchAll } = useRefineContext();\n  const { useParams } = useRouterContext();\n  const { resources } = useResource();\n\n  const { action, id } = useParams<ResourceRouterParams>();\n\n  const resource = resources.find((res) => res.route === route);\n\n  if (resource) {\n    const {\n      list,\n      create,\n      edit,\n      show,\n      name,\n      canCreate,\n      canEdit,\n      canShow,\n      canDelete,\n      options,\n    } = resource;\n\n    const stringError = () =>\n      console.error(\n        \"`string` resource routes are not supported in legacy router. Please switch to the new router or assign Components to the resource routes.\",\n      );\n    const definitionError = () =>\n      console.error(\n        \"`Object` resource routes are not supported in legacy router. Please switch to the new router or assign Components to the resource routes.\",\n      );\n\n    const List =\n      (typeof list === \"string\"\n        ? stringError()\n        : typeof list === \"object\"\n          ? definitionError()\n          : list) ?? (() => null);\n    const Create =\n      (typeof create === \"string\"\n        ? stringError()\n        : typeof create === \"object\"\n          ? definitionError()\n          : create) ?? (() => null);\n    const Edit =\n      (typeof edit === \"string\"\n        ? stringError()\n        : typeof edit === \"object\"\n          ? definitionError()\n          : edit) ?? (() => null);\n    const Show =\n      (typeof show === \"string\"\n        ? stringError()\n        : typeof show === \"object\"\n          ? definitionError()\n          : show) ?? (() => null);\n\n    const renderCrud = () => {\n      switch (action) {\n        case undefined:\n          return (\n            <CanAccess\n              resource={name}\n              action=\"list\"\n              fallback={catchAll ?? <ErrorComponent />}\n              params={{\n                resource,\n              }}\n            >\n              {!list ? (\n                catchAll ?? <ErrorComponent />\n              ) : (\n                <List\n                  name={name}\n                  canCreate={canCreate}\n                  canEdit={canEdit}\n                  canDelete={canDelete}\n                  canShow={canShow}\n                  options={options}\n                />\n              )}\n            </CanAccess>\n          );\n        case \"create\":\n        case \"clone\":\n          return (\n            <CanAccess\n              resource={name}\n              action=\"create\"\n              fallback={catchAll ?? <ErrorComponent />}\n              params={{\n                id: id ? decodeURIComponent(id) : undefined,\n                resource,\n              }}\n            >\n              {!create ? (\n                catchAll ?? <ErrorComponent />\n              ) : (\n                <Create\n                  name={name}\n                  canCreate={canCreate}\n                  canEdit={canEdit}\n                  canDelete={canDelete}\n                  canShow={canShow}\n                  options={options}\n                />\n              )}\n            </CanAccess>\n          );\n\n        case \"edit\":\n          return (\n            <CanAccess\n              resource={name}\n              action=\"edit\"\n              params={{\n                id: id ? decodeURIComponent(id) : undefined,\n                resource,\n              }}\n              fallback={catchAll ?? <ErrorComponent />}\n            >\n              {!edit ? (\n                catchAll ?? <ErrorComponent />\n              ) : (\n                <Edit\n                  name={name}\n                  canCreate={canCreate}\n                  canEdit={canEdit}\n                  canDelete={canDelete}\n                  canShow={canShow}\n                  options={options}\n                />\n              )}\n            </CanAccess>\n          );\n\n        case \"show\":\n          return (\n            <CanAccess\n              resource={name}\n              action=\"show\"\n              params={{\n                id: id ? decodeURIComponent(id) : undefined,\n                resource,\n              }}\n              fallback={catchAll ?? <ErrorComponent />}\n            >\n              {!show ? (\n                catchAll ?? <ErrorComponent />\n              ) : (\n                <Show\n                  name={name}\n                  canCreate={canCreate}\n                  canEdit={canEdit}\n                  canDelete={canDelete}\n                  canShow={canShow}\n                  options={options}\n                />\n              )}\n            </CanAccess>\n          );\n        default:\n          return <>{catchAll ?? <ErrorComponent />}</>;\n      }\n    };\n\n    return renderCrud();\n  }\n\n  return <>{catchAll ?? <ErrorComponent />}</>;\n};\n\ntype RouteProviderProps = {\n  initialRoute?: string;\n};\n\nexport const RouteProvider = ({\n  initialRoute,\n}: RouteProviderProps): JSX.Element => {\n  const { resources } = useResource();\n  const { catchAll, DashboardPage, LoginPage } = useRefineContext();\n\n  const { routes: customRoutes } = useRouterContext();\n\n  const authProvider = useActiveAuthProvider();\n  const {\n    isFetching,\n    isError,\n    data: authData,\n  } = useIsAuthenticated({\n    v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    params: {\n      type: \"routeProvider\",\n    },\n  });\n\n  const isAuthenticated = useMemo(() => {\n    if (authProvider?.isProvided) {\n      if (authProvider?.isLegacy) {\n        const hasAuthError = isError || authData?.error;\n        return !hasAuthError;\n      }\n\n      return authData?.authenticated;\n    }\n    return true;\n  }, [authData, isError, authProvider?.isLegacy]);\n\n  if (isFetching) {\n    return (\n      <Routes>\n        <Route path=\"*\" element={null} />\n      </Routes>\n    );\n  }\n\n  const CustomPathAfterLogin: React.FC = (): JSX.Element | null => {\n    const { pathname, search } = location;\n    const toURL = `${pathname}${search}`;\n\n    return <Navigate to={`/login?to=${encodeURIComponent(toURL)}`} />;\n  };\n\n  const resourceRoutes: JSX.Element[] = [];\n\n  resources.map((resource) => {\n    const route = (\n      <Route\n        key={`${resource.route}`}\n        path={`${resource.route}`}\n        element={<ResourceComponent route={resource.route!} />}\n      >\n        <Route\n          path=\":action\"\n          element={<ResourceComponent route={resource.route!} />}\n        >\n          <Route\n            path=\":id\"\n            element={<ResourceComponent route={resource.route!} />}\n          />\n        </Route>\n      </Route>\n    );\n    resourceRoutes.push(route);\n  });\n\n  const renderAuthorized = () => (\n    <Routes>\n      {[...(customRoutes || [])]\n        .filter((p: RefineRouteProps) => !p.layout)\n        .map((route, i) => (\n          <Route key={`custom-route-${i}`} {...route} element={route.element} />\n        ))}\n      <Route\n        path=\"/\"\n        element={\n          <LayoutWrapper>\n            <Outlet />\n          </LayoutWrapper>\n        }\n      >\n        {[...(customRoutes || [])]\n          .filter((p: RefineRouteProps) => p.layout)\n          .map((route, i) => (\n            <Route\n              key={`custom-route-${i}`}\n              {...route}\n              element={route.element}\n            />\n          ))}\n        {DashboardPage ? (\n          <Route\n            index\n            element={\n              <CanAccess\n                resource=\"dashboard\"\n                action=\"list\"\n                fallback={catchAll ?? <ErrorComponent />}\n              >\n                <DashboardPage />\n              </CanAccess>\n            }\n          />\n        ) : (\n          <Route\n            index\n            element={\n              <Navigate\n                to={\n                  initialRoute ??\n                  `/${resources.find((p) => p.list)?.route?.replace(/^\\//, \"\")}`\n                }\n              />\n            }\n          />\n        )}\n        {...[...(resourceRoutes || [])]}\n        <Route path=\"*\" element={<ResourceComponent route=\"\" />} />\n      </Route>\n    </Routes>\n  );\n\n  const renderLoginRouteElement = (): JSX.Element => {\n    if (LoginPage) return <LoginPage />;\n    return <DefaultLoginPage />;\n  };\n\n  const renderUnauthorized = () => (\n    <Routes>\n      {[...(customRoutes || [])].map((route, i) => (\n        <Route key={`custom-route-${i}`} {...route} />\n      ))}\n      <Route path=\"/\" element={renderLoginRouteElement()} />\n      <Route path=\"/login\" element={renderLoginRouteElement()} />\n      <Route path=\"*\" element={<CustomPathAfterLogin />} />\n    </Routes>\n  );\n  return isAuthenticated ? renderAuthorized() : renderUnauthorized();\n};\n","/**\n * `useBlocker` and `usePrompt` is no longer part of react-router-dom for the routers other than `DataRouter`.\n *\n * The previous workaround (<v6.4) was to use `block` function in `UNSAFE_NavigationContext` which is now removed.\n *\n * We're using a workaround from the gist https://gist.github.com/MarksCode/64e438c82b0b2a1161e01c88ca0d0355 with some modifications\n * Thanks to @MarksCode(https://github.com/MarksCode) for the workaround.\n */\n\nimport React from \"react\";\nimport { UNSAFE_NavigationContext as NavigationContext } from \"react-router-dom\";\n\nfunction useConfirmExit(confirmExit: () => boolean, when = true) {\n  const { navigator } = React.useContext(NavigationContext);\n\n  React.useEffect(() => {\n    if (!when) {\n      return;\n    }\n\n    const go = navigator.go;\n    const push = navigator.push;\n\n    navigator.push = (...args: Parameters<typeof push>) => {\n      const result = confirmExit();\n      if (result !== false) {\n        push(...args);\n      }\n    };\n\n    navigator.go = (...args: Parameters<typeof go>) => {\n      const result = confirmExit();\n      if (result !== false) {\n        go(...args);\n      }\n    };\n\n    return () => {\n      navigator.push = push;\n      navigator.go = go;\n    };\n  }, [navigator, confirmExit, when]);\n}\n\nexport function usePrompt(\n  message: string,\n  when = true,\n  onConfirm?: () => void,\n  legacy = false,\n) {\n  const warnWhenListener = React.useCallback(\n    (e: { preventDefault: () => void; returnValue: string }) => {\n      e.preventDefault();\n\n      e.returnValue = message;\n\n      return e.returnValue;\n    },\n    [message],\n  );\n\n  React.useEffect(() => {\n    if (when && !legacy) {\n      window.addEventListener(\"beforeunload\", warnWhenListener);\n    }\n\n    return () => {\n      window.removeEventListener(\"beforeunload\", warnWhenListener);\n    };\n  }, [warnWhenListener, when, legacy]);\n\n  const confirmExit = React.useCallback(() => {\n    const confirm = window.confirm(message);\n    if (confirm && onConfirm) {\n      onConfirm();\n    }\n    return confirm;\n  }, [message]);\n\n  useConfirmExit(confirmExit, when);\n}\n","import { usePrompt } from \"../use-prompt-workaround\";\n\nimport type { PromptProps } from \"@refinedev/core\";\n\nexport const Prompt: React.FC<PromptProps> = ({\n  message,\n  when,\n  setWarnWhen,\n}) => {\n  usePrompt(\n    message,\n    when,\n    () => {\n      setWarnWhen?.(false);\n    },\n    true,\n  );\n\n  return null;\n};\n"],"mappings":"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","names":["legacy_exports","__export","BrowserRouterComponent","HashRouterComponent","MemoryRouterComponent","legacy_default","__toCommonJS","import_core","import_react_router_dom","import_react","import_react_router_dom","import_react","import_react_router_dom","import_core","ResourceComponent","route","catchAll","useParams","resources","action","id","resource","res","list","create","edit","show","name","canCreate","canEdit","canShow","canDelete","options","stringError","definitionError","List","Create","Edit","Show","React","RouteProvider","initialRoute","DashboardPage","LoginPage","customRoutes","authProvider","isFetching","isError","authData","isAuthenticated","CustomPathAfterLogin","pathname","search","toURL","resourceRoutes","renderAuthorized","_a","_b","p","i","renderLoginRouteElement","DefaultLoginPage","BrowserRouterComponent","children","props","React","RouteProvider","MemoryRouterComponent","HashRouterComponent","import_react","import_react_router_dom","useConfirmExit","confirmExit","when","navigator","React","NavigationContext","go","push","args","usePrompt","message","onConfirm","legacy","warnWhenListener","e","confirm","Prompt","message","when","setWarnWhen","usePrompt","RouterProvider","navigate","path","params","pathname","paramsString","Prompt","BrowserRouterComponent","legacy_default"]}